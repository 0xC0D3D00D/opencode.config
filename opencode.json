{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["opencode-gemini-auth@latest", "opencode-scheduler"],
  "model": "openrouter/moonshotai/kimi-k2.5",
  "small_model": "openrouter/openai/gpt-oss-120b",
  "formatter": {
    "golangci-lint": {
      "command": ["golangci-lint", "run", "--fix", "$FILE"],
      "extensions": [".go"]
    }
  },
  "permission": {
    "read": {
      ".env": "allow",
      ".env.*": "allow",
      ".env-*": "allow"
    },
    "external_directory": "allow",
    "bash": {
      "git push": "allow",
      "git push *": "allow",
      "sudo *": "deny",
      "rm -rf /": "deny",
      "rm -rf /*": "deny",
      "rm -rf ~": "deny",
      "rm -rf ~/*": "deny",
      ":(){:|:&};:": "deny"
    }
  },
  "agent": {
    "build": {
//      "model": "github-copilot/claude-opus-4.5",
      "model": "openai/gpt-5.2-codex",
      "temperature": 0.3,
      "prompt": "{file:./prompt/anthropic.txt}"
    },
    "plan": {
//      "model": "google/gemini-3-pro-preview",
//      "model": "github-copilot/claude-opus-4.5",
      "model": "openai/gpt-5.2-codex",
      "temperature": 0.1,
      "prompt": "{file:./prompt/anthropic.txt}",
      "tools": {
        "write": false,
        "edit": false,
        "patch": false
      },
      "permission": {
        "bash": {
          "git status": "allow",
          "git diff*": "allow",
          "git log*": "allow",
          "git show*": "allow",
          "go test *": "allow",
          "bd *": "allow",
          "rg *": "allow",
          "tree *": "allow",
          "wc *": "allow",
          "head *": "allow",
          "tail *": "allow",
          "*": "deny"
        }
      }
    },
    "explore": {
      "model": "openrouter/openai/gpt-oss-120b",
      "temperature": 0.1,
      "prompt": "{file:./prompt/codex.txt}",
      "permission": {
        "bash": {
          "git status": "allow",
          "git diff*": "allow",
          "git log*": "allow",
          "git show*": "allow",
          "go test *": "allow",
          "bd *": "allow",
          "rg *": "allow",
          "tree *": "allow",
          "wc *": "allow",
          "head *": "allow",
          "tail *": "allow",
          "*": "deny"
        }
      },
      "description": "A fast, read-only agent for exploring codebases. Cannot modify files. Use this when you need to quickly find files by patterns, search code for keywords, or answer questions about the codebase."
    },
    "docs": {
      "model": "openrouter/openai/gpt-oss-120b",
      "temperature": 0.3,
      "prompt": "{file:./prompt/codex.txt}",
      "permission": {
        "write": {
          "**/*.md": "allow",
          "**/*.mdx": "allow",
          "*": "deny"
        }
      },
      "description": "Documentation writer - generates and updates markdown docs, READMEs, and guides. Can only write to .md/.mdx files."
    },
    "test-writer": {
      "model": "openrouter/anthropic/claude-sonnet-4.5",
      "temperature": 0.2,
      "prompt": "{file:./prompt/anthropic.txt}",
      "permission": {
        "write": {
          "**/*_test.go": "allow",
          "*": "deny"
        }
      },
      "description": "Test specialist - generates comprehensive unit, integration, and e2e tests. Can only write to test files."
    },
    "web-search": {
      "model": "perplexity/sonar-pro",
      "prompt": "{file:./prompt/codex.txt}",
      "description": "Search agent - performs web searches to gather up-to-date information and context for tasks."
    },
    "web-search-subagent": {
      "mode": "subagent",
      "model": "perplexity/sonar-pro",
      "prompt": "{file:./prompt/codex.txt}",
      "description": "Search agent - performs web searches to gather up-to-date information and context for tasks."
    }
  },
  "mcp": {
    "atlassian-rovo": {
      "type": "remote",
      "url": "https://mcp.atlassian.com/v1/mcp",
      "enabled": true,
      "oauth": {},
      "timeout": 10000
    },
    "beads": {
      "type": "local",
      "command": ["/Users/mohammad/.local/share/uv/tools/beads-mcp/bin/beads-mcp"],
      "enabled": true
    },
    "chrome-devtools": {
      "type": "local",
      "command": ["npx", "-y", "chrome-devtools-mcp@latest"]
    },
    "gitlab": {
      "type": "local",
      "command": ["glab", "mcp", "serve"],
      "enabled": true
    },
    "google-cloud": {
      "type": "local",
      "command": ["npx", "-y", "@google-cloud/gcloud-mcp"],
      "enabled": true
    },
    "google-workspace": {
      "type": "local",
      "command": ["gemini-workspace-server"],
      "enabled": true
    },
    "sauron": {
      "type": "local",
      "command": ["/Users/mohammad/.asdf/installs/golang/1.23.8/packages/bin/sauron", "mcp"],
      "enabled": true
    },
    "slack": {
      "type": "local",
      "command": [
        "docker", "run", "-i", "--rm", 
        "-e", "SLACK_MCP_XOXC_TOKEN=REDACTED",
        "-e", "SLACK_MCP_XOXD_TOKEN=REDACTED",
        "-e", "SLACK_MCP_ADD_MESSAGE_TOOL=1",
        "ghcr.io/korotovsky/slack-mcp-server:latest", "mcp-server", "--transport", "stdio"
      ],
      "enabled": true
    }
  }
}
